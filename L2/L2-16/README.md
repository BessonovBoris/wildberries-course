# Чтение и понимание кода. Объяснить вывод программы

[Код](./src/main.rs)

## Комментарии


### as_chan()
*Краткое описание*: создает канал, отправляет по нему срез чисел, возвращает Receiver этого канала

`vs: &[i32]` — принимает срез массива чисел (`i32`)\
`std::sync::mpsc::Receiver<i32>` - возвращает часть канала, которая получает сообщения
```rust
fn as_chan(vs: &[i32]) -> std::sync::mpsc::Receiver<i32> {
```
\
Создается канал для передачи данных между потоками\
`tx` — передатчик\
`rx` — приёмник
```rust
let (tx, rx) = std::sync::mpsc::channel();
```
\
Создается новый поток, в нем запускается замыкание
```rust
let handle = std::thread::spawn(...)
```
\
Создает копию вектора, чтобы передать её в поток, так как у замыкания стоит `move` это означает, что переменные захватываются 
```rust
let vs = vs.to_owned();
```
\
Замыкание\
С помощью `move` захватывает переменные\
`tx.send(v).unwrap();` отправляет данные через канал, паникует если вернул `Err`\
`std::thread::sleep` - переводит поток в спящий режим на 1 секунду
```rust
move || {
    for v in vs {
        tx.send(v).unwrap();
        std::thread::sleep(std::time::Duration::from_secs(1))
    }

    drop(tx);
}
```
\
Основной поток ждет завершения дочернего\
Функция возвращает `rx: Receiver` - приемник
```rust
handle.join().unwrap();
rx
```

### merge()
*Краткое описание*: Получает два канала *потребителя*

a
```rust

```
\
a
```rust

```

### main()

a
```rust

```
\
a
```rust

```

### Вывод

`
1
2
3
4
5
6
7
8`